<section class="">
    <span class="fillAriane my-3"><span (click)="goToHistorique()" class="accueil">Accueil <span (click)="goToReponse()"> -> Réponses</span> </span><span> -> Details bordereau</span></span>
    <div class="content d-flex flex-column py-2 px-4 mt-2">
        <span class="titlePage">DETAILS DU BORDEREAU</span>
        <div class="infoBord d-flex flex-column mt-3">
            <div class="d-flex idStatut">
                <span class="numeroBord h5 m-1">Bordereau N°<span class="num">{{currentReponse.numBordereau}}</span></span>
                <span *ngIf="currentReponse.statut == 'accept'" class="statutV p-1 text-center m-1">Accepté</span>
                <span *ngIf="currentReponse.statut == 'reject'" class="statutR p-1 text-center m-1">Rejetté</span>
            </div>
            <div class="typeProd d-flex align-items-center my-2">
                <label>Type du produit : </label>
                <div class="d-flex align-items-center">
                    <span class="type mx-2">{{currentReponse.typeProduit | uppercase}}</span>
                    <div *ngIf="currentReponse.typeProduit=='cacao'" class="tvc svg tb p-1 text-center">
                        <svg width="20" height="20" fill="#932e24" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 570.277 570.277" xml:space="preserve" stroke="#932e24"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M528.279,262.465c-25.701-34.9-70.4-52.6-110.201-66.1c-39.799-13.5-96.1-28.8-138.3-19.6c2.4-59.4-19-110.8-98.5-100.4 c-5.5,0.6-8.6,4.3-10.4,8.6c-86.3,51.4-136.5,164-161,257c-14.7,55.1-25.7,170.2,64.9,151.2c74.1-15.3,122.4-84.5,155.4-153 c52.6,20.8,107.101,36.7,161.601,49.6c46.5,10.4,113.199,26.9,157.299,0C598.078,359.764,549.677,291.165,528.279,262.465z M386.279,211.665c42.199,9.8,84.5,26.9,116.299,56.9c20.201,18.399,39.801,48.3,41,72.199c-33.699-20.2-75.9-31.2-112.6-44.1 c-53.199-19-108.301-36.7-164-46.5h-0.6c5.5-17.7,9.8-36.7,12.2-55.7C313.478,204.265,350.779,203.065,386.279,211.665z M38.678,463.764c-29.4-25.7-2.4-123,5.5-149.3c23.9-76.5,67.3-167.1,135.3-215.399c0.6,0,1.8,0,2.4,0c26.3-3.1,44.1,1.8,55.7,12.2 c-4.9,0-9.8,2.4-11,8c-26.3,123-107.1,250.9-187.3,343.299C39.278,463.165,39.278,463.764,38.678,463.764z M228.378,282.665 c-29.4,74.7-74.1,155.399-153.6,183.599c-10.4,3.7-19,4.3-25.7,2.4c2.4,0,4.9-0.601,7.3-2.4c50.2-38.6,85.1-102.8,116.3-156.7 c32.4-55.699,67.3-119.999,76.5-184.799C269.978,165.165,246.178,239.765,228.378,282.665z M502.578,378.064 c-88.699,8-182.4-27.5-266.8-50.8c8.6-19.6,16.5-38.6,23.3-56.299c1.2-3.7,2.4-7.3,3.7-11c0.6,0,0.6,0.6,1.2,0.6 c49.6,15.9,97.9,32.399,146.301,51.399c41,16.5,84.5,40.4,127.898,49.6C531.978,370.764,520.978,376.264,502.578,378.064z"></path> </g> </g></svg>
                    </div>
                    <div *ngIf="currentReponse.typeProduit!='cacao'"  class="svg tvca p-1 text-center">
                        <svg fill="#932e24" height="20" width="20" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" stroke="#932e24"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M491.646,119.951c-0.677-1.171-1.538-2.2-2.244-3.348c-0.598-2.454-1.983-4.487-3.968-5.92 c-27.978-41.05-75.195-66.953-134.765-72.953c-62.793-6.346-131.677,10.031-194.091,46.068 c-62.404,36.031-111.042,87.546-136.94,145.049c-26.429,58.674-26.174,116.638,0.716,163.206 c26.889,46.573,76.958,75.772,140.987,82.221c8.82,0.889,17.773,1.334,26.807,1.334c55.209,0,113.648-16.439,167.273-47.401 c62.414-36.031,111.042-87.546,136.94-145.05C518.791,224.483,518.535,166.525,491.646,119.951z M38.719,237.442 c24.119-53.533,69.691-101.665,128.324-135.514C217.501,72.796,272.27,57.327,323.8,57.327c8.35,0,16.618,0.409,24.774,1.226 c46.795,4.717,84.807,22.871,109.982,51.515c-43.454,5.145-146.646,27.804-238.01,127.471 C124.661,342.144,50.869,365.075,32.508,369.382C15.479,330.96,17.433,284.724,38.719,237.442z M473.28,274.562 c-24.109,53.538-69.681,101.665-128.324,135.514c-58.633,33.854-123.112,49.292-181.52,43.374 c-53.82-5.423-96.07-28.55-120.404-65.097c27.937-7.645,100.638-35.976,192.946-136.669 c96.57-105.349,209.475-119.885,237.128-121.878c0.123,0.214,0.286,0.397,0.409,0.611 C496.95,171.001,496.869,222.194,473.28,274.562z"></path> </g> </g> </g></svg>
                    </div>
                </div>
            </div>
        </div>
        <hr/>

        <div class="infoAcheteur row mt-2">
            <h6 class="title mb-2">INFORMATION EXPORTATEUR</h6>
            <span *ngIf="currentReponse.statut == 'reject'" class="motif mt-2 p-2"><span class="spec m-1">Motif </span>{{currentReponse.rapportInfoExportateur}}</span>
            <div class="col-md-3 col-6">
                <p class="text-secondary">Nom structure : <span class="mx-2 text-dark">{{ currentReponse.nomEntrepriseExportateur }}</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary">Numéro carte pro structure : <span class="mx-2 text-dark">{{ currentReponse.codeEntrepriseExportateur }}</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary">Nom mandataire : <span class="mx-2 text-dark">{{ currentReponse.nomExportateur }}</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary">Numéro carte pro mandataire: <span class="mx-2 text-dark">{{ currentReponse.numCarteProExportateur }}</span></p>
            </div>
        </div>
        <hr/>

        <div class="infoVente row">
            <h6 class="title mb-2">DETAIL DE LA VENTE</h6>
            <span *ngIf="currentReponse.statut == 'reject'" class="motif mt-2 p-2"><span class="spec m-1">Motif </span>{{currentReponse.rapportInfoVente}}</span>
            <div class="col-md-3 col-6">
                <p class="text-secondary">Nom coopérative : <span class="mx-2 text-dark">{{ currentReponse.nomCooperative }}</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary">Tél coopérative : <span class="mx-2 text-dark">{{ currentReponse.numeroCooperative }}</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary">E-mail coopérative : <span class="mx-2 text-dark">{{ currentReponse.emailCooperative }}</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary">Date de la vente : <span class="mx-2 bg-light p-2 text-dark">{{ currentReponse.dateVente | date: 'fullDate' }}</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary">Nom responsable : <span class="mx-2 text-dark">{{ currentReponse.nomVendeur }}</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary">Tél responsable : <span class="mx-2 text-dark">{{ currentReponse.numeroVendeur }}</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary">E-mail responsable : <span class="mx-2 text-dark">{{ currentReponse.emailVendeur }}</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary" *ngIf="currentReponse.typeProduit=='cacao'">Qualité : <span class="mx-2 bg-light p-2 text-dark" *ngIf="currentReponse.volumeCacaoGrade1!=0">grade 1 </span><span class="mx-2 bg-light p-2 text-dark" *ngIf="currentReponse.volumeCacaoGrade2!=0"> grade 2</span></p>
                <p class="text-secondary" *ngIf="currentReponse.typeProduit!='cacao'">Qualité : <span class="mx-2 bg-light p-2 text-dark" *ngIf="currentReponse.volumeArabica!=0">ARABICA </span><span class="mx-2 bg-light p-2 text-dark" *ngIf="currentReponse.volumeRobusta!=0"> grade 2</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary">Région : <span class="mx-2 p-2 text-dark">{{ currentReponse.regionVente }}</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary">Département : <span class="mx-2 text-dark">{{ currentReponse.departementVente }}</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary">Arrondissement : <span class="mx-2 text-dark">{{ currentReponse.departementVente }}</span></p>
            </div>
            <div class="col-md-3 col-6">
                <p class="text-secondary">Lieu dit : <span class="mx-2 text-dark">{{ currentReponse.lieuVente }}</span></p>
            </div>
        </div>
        <hr/>

        <div class="detailsProd d-flex flex-column">
            <span *ngIf="currentReponse.statut == 'reject'" class="motif mt-2 p-2"><span class="spec m-1">Motif </span>{{currentReponse.rapportInfoQuantite}}</span>
            <span class="title">Details Producteur</span>
            <div class="col-12 my-4">
                <table class="table text-center">
                    <thead>
                        <tr>
                            <th>Nom producteur</th>
                            <th>Numéro producteur</th>
                            <th>Lieu de production</th>
                            <th>Géometrie</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let producteur of currentReponse.producteurList">
                            <td>{{ producteur.nom }}</td>
                            <td>{{ producteur.phone }}</td>
                            <td>{{ producteur.lieuDit }}</td>
                            <td *ngIf="producteur.geometrie != '' && producteur.geometrie"><svg (click)="gestionService.downloadLocalisationsJson(producteur)" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#00a153"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M3 15C3 17.8284 3 19.2426 3.87868 20.1213C4.75736 21 6.17157 21 9 21H15C17.8284 21 19.2426 21 20.1213 20.1213C21 19.2426 21 17.8284 21 15" stroke="#00a153" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 3V16M12 16L16 11.625M12 16L8 11.625" stroke="#00a153" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg></td>
                            <td *ngIf="!(producteur.geometrie != '' && producteur.geometrie)">données absente</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div><hr/>

        <div *ngIf="currentReponse.statut == 'accept'" class="options d-flex align-items-center">
            <button (click)="gestionService.downloadLocalisationsJson(gestionService.currentReponse.producteurList)" class="downloadAll mr-4 p-2">Tout Télécharger</button>
            <span (click)="goToReponse()" class="retour mx-4">Retour</span>
        </div>
        <div *ngIf="currentReponse.statut == 'reject'" class="optionsR d-flex align-items-center">
            <button (click)="modifierBordereau()" class="downloadAll mr-4 p-2">Modifier le bordereau</button>
            <span (click)="goToReponse()" class="retour mx-4">Retour</span>
        </div>
    </div>
</section>